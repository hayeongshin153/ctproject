<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëˆ„êµ¬ì—ê²Œ ë¬¸ì„œë¥¼ ì „ë‹¬í•´ì•¼í• ê¹Œ?</title>
  <style>
    body {
      background: #f6f7fb;
      font-family: 'ë§‘ì€ ê³ ë”•', sans-serif;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 98vw;
      width: 98vw;
      background: #fff;
      margin: 20px auto;
      border-radius: 18px;
      box-shadow: 0 6px 24px #dde2ed88;
      padding: 0 0 32px 0;
    }
    .mainimg { width: 100%; border-radius: 18px 18px 0 0; }
    .tabs {
      display: flex; margin: 18px 0 0 0;
    }
    .tab {
      flex: 1; text-align: center; cursor: pointer; padding: 13px 0;
      font-weight: bold; border-bottom: 2.5px solid #e0e0e0; background: #f6f8fa;
    }
    .tab.active {
      color: #1f5fd1; border-bottom: 3px solid #1f5fd1; background: #f8fbff;
    }
    .box {
      margin: 24px 24px 0 24px;
      padding: 22px;
      background: #f8fafc;
      border-radius: 14px;
      min-height: 170px;
    }
    .title {
      margin: 32px 0 0 0;
      text-align: center;
      font-size: 1.5em;
      font-weight: bold;
      color: #0a297a;
    }
    .subtitle {
      text-align: center;
      color: #325e97;
      font-weight: 500;
      margin-bottom: 18px;
    }
    .timer {
      margin: 14px 0;
      text-align: center;
    }
    .timer label {
      font-weight: bold;
      margin: 0 9px 0 0;
    }
    .timer button {
      margin: 0 4px;
      padding: 7px 20px;
      font-size: 1em;
      border-radius: 8px;
      border: 1.5px solid #d2d5dd;
      background: #f6f7fc;
      cursor: pointer;
      font-weight: bold;
    }
    .timer button.selected {
      background: #295ce2;
      color: #fff;
      border-color: #2149ad;
    }
    .timer span {
      display: inline-block;
      margin-left: 14px;
      color: #21732a;
      font-weight: bold;
      font-size: 1.2em;
    }
    .radio-wrap { margin-top: 18px; }
    .radio-wrap label { margin-right: 20px; }
    .success { color: #2c781a; font-weight: bold; }
    .fail { color: #bb2124; font-weight: bold; }
    .hint { color: #235a99; font-size: .93em; }
    .remain { font-weight: bold; color: #21732a; margin-top: 8px; }
    .situationbox {
      background: #f1f5fa;
      border-radius: 15px;
      padding: 22px 20px 14px 20px;
      margin: 26px 28px 0 28px;
      box-shadow: 0 1px 8px #bdd1ee36;
      border-left: 6px solid #356dc6;
      font-size: 1.04em;
      color: #18365a;
      line-height: 1.7;
    }
    .featurebox {
      background: #eaf4fd;
      border-radius: 15px;
      padding: 18px 18px 14px 18px;
      margin: 12px 28px 0 28px;
      box-shadow: 0 1px 6px #bdd1ee36;
      border-left: 6px solid #4bb0f9;
      font-size: 1.04em;
      color: #174a6c;
      line-height: 1.7;
    }
    .featurebox ul { margin: 7px 0 0 0; padding-left: 17px; }
    .featurebox li { margin-bottom: 2px; }
    .drag-item {
      background: #dbe8fa;
      padding: 10px;
      margin: 8px 0;
      border-radius: 8px;
      cursor: grab;
      font-size: 0.96em;
    }
    .drop-slot {
      background: #ffffff;
      border: 2px dashed #a3bcd9;
      margin: 12px 0;
      padding: 14px;
      min-height: 45px;
      border-radius: 8px;
      font-size: 0.96em;
    }
    .btn {
      margin: 10px 8px 0 0;
      padding: 8px 28px;
      border-radius: 10px;
      border: none;
      font-size: 1em;
      background: #3367e6;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
    }
    .btn.reset { background: #adb8c4; }
  </style>
</head>
<body>
  <div class="container">
    <img src="image.png" class="mainimg" alt="ë¬¸ì œ ì´ë¯¸ì§€">
    <div class="title">íƒ€ì´í‹€: ëˆ„êµ¬ì—ê²Œ ë¬¸ì„œë¥¼ ì „ë‹¬í•´ì•¼í• ê¹Œ?</div>
    <div class="subtitle">ëŒ€ìƒ ë° êµê³¼: ì¤‘í•™êµ (íŠ¹ìˆ˜)</div>
    <div class="timer">
      <label>ë¬¸ì œ í’€ì´ ì‹œê°„:</label>
      <button id="timer-btn-30">30ì´ˆ</button>
      <button id="timer-btn-60">1ë¶„</button>
      <button id="timer-btn-90">1ë¶„ 30ì´ˆ</button>
      <button id="timer-btn-120">2ë¶„</button>
      <span id="timer_display">0:00</span>
    </div>
    <div class="situationbox">
      <b>ë¬¸ì œ ìƒí™©</b><br>
      ì² ìˆ˜ëŠ” ë‹´ì„ ì„ ìƒë‹˜ìœ¼ë¡œë¶€í„° ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ë³„í•œ ë¶€íƒì„ ë°›ì•˜ìŠµë‹ˆë‹¤.<br>
      â€œì§€ê¸ˆ ì €ê¸° ë³µë„ì— ìˆëŠ” 4ëª…ì˜ ì„ ìƒë‹˜ ì¤‘ì— í™ê¸¸ë™ ì„ ìƒë‹˜ì—ê²Œ ì´ ë¬¸ì„œë¥¼ ì „ë‹¬í•´ì¤˜.â€<br>
      ì² ìˆ˜ëŠ” ì„ ìƒë‹˜ë“¤ì˜ ì™¸í˜•ì„ ì˜ ê´€ì°°í•˜ì—¬ íŠ¹ì§•ì— ë§ëŠ” ì˜¬ë°”ë¥¸ ì„ ìƒë‹˜ì—ê²Œ ë¬¸ì„œë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.
    </div>
    <div class="featurebox">
      <b>í™ê¸¸ë™ ì„ ìƒë‹˜ íŠ¹ì§•</b>
      <ul>
        <li>ë°”ì§€ë¥¼ ì…ê³  ìˆë‹¤.</li>
        <li>ì±…ì„ ë“¤ê³  ìˆì§€ ì•Šë‹¤.</li>
        <li>ì•ˆê²½ì„ ì“°ê³  ìˆë‹¤.</li>
      </ul>
    </div>

    <div class="tabs">
      <div class="tab active" id="tab-btn-0">ë¬¸ì œë¶„í•´</div>
      <div class="tab" id="tab-btn-1">ì¶”ìƒí™”</div>
      <div class="tab" id="tab-btn-2">íŒ¨í„´(ê·œì¹™) ì°¾ê¸°</div>
      <div class="tab" id="tab-btn-3">ì•Œê³ ë¦¬ì¦˜</div>
    </div>
    <!-- ë¬¸ì œë¶„í•´ íƒ­ -->
    <div id="tabbox0" class="box">
      <div style="font-weight:bold;">ë¬¸ì œë¶„í•´: ë¬¸ì œ í•´ê²° ìˆœì„œë¥¼ ì˜¬ë°”ë¥´ê²Œ ë°°ì—´í•´ë³´ì„¸ìš”.</div>
      <div class="hint">ì•„ë˜ ë‹¨ê³„ ì¹´ë“œë¥¼ ë“œë˜ê·¸í•˜ì—¬ ì˜¤ë¥¸ìª½ ë¹ˆ ì¹¸ì— ìˆœì„œëŒ€ë¡œ ë°°ì¹˜í•´ë³´ì„¸ìš”.</div>
      <div style="display: flex; gap: 20px; margin-top: 20px;">
        <!-- ë“œë˜ê·¸ ì¹´ë“œ -->
        <div id="drag-items" style="flex: 1; background: #f1f4f9; padding: 10px; border-radius: 10px;">
          <div class="drag-item" draggable="true" data-id="2">í™ê¸¸ë™ ì„ ìƒë‹˜ì˜ 3ê°€ì§€ íŠ¹ì§•(í•˜ì˜ ì¢…ë¥˜, ì•ˆê²½, ì±…)ì„ í™•ì¸í•œë‹¤.</div>
          <div class="drag-item" draggable="true" data-id="1">4ëª…ì˜ ì„ ìƒë‹˜ë“¤ì˜ íŠ¹ì§•ì„ í™•ì¸í•œë‹¤.</div>
          <div class="drag-item" draggable="true" data-id="3">í™ê¸¸ë™ ì„ ìƒë‹˜ì˜ 3ê°€ì§€ íŠ¹ì§•ê³¼ ë¹„êµí•˜ì—¬ ëª¨ë‘ í•´ë‹¹í•˜ëŠ” ì„ ìƒë‹˜ì„ ì°¾ëŠ”ë‹¤.</div>
        </div>
        <!-- ë“œë¡­ ìŠ¬ë¡¯ -->
        <div id="drop-zone" style="flex: 1; background: #eef2f8; padding: 10px; border-radius: 10px; min-height: 180px;">
          <div class="drop-slot" data-slot="1"><b>â‘ </b> ìˆœì„œ 1</div>
          <div class="drop-slot" data-slot="2"><b>â‘¡</b> ìˆœì„œ 2</div>
          <div class="drop-slot" data-slot="3"><b>â‘¢</b> ìˆœì„œ 3</div>
        </div>
      </div>
      <button id="check-order" class="btn" style="margin-top: 20px;">ì •ë‹µ í™•ì¸</button>
      <button id="reset-order" class="btn reset" style="margin-top: 20px;">ë‹¤ì‹œ í•˜ê¸°</button>
      <span id="order-feedback" style="margin-left:16px; font-weight:bold;"></span>
    </div>

    <!-- ì¶”ìƒí™” íƒ­ -->
    <div id="tabbox1" class="box" style="display:none;">
      <div style="font-weight:bold;">ì¶”ìƒí™”: í™ê¸¸ë™ ì„ ìƒë‹˜ì˜ íŠ¹ì§•ì„ ì¶”ë ¤ë‚´ë³´ì„¸ìš”.</div>
      <div class="hint">ë‹¤ìŒ ë³´ê¸° ì¤‘, í™ê¸¸ë™ ì„ ìƒë‹˜ì„ ì°¾ê¸° ìœ„í•´ ë°˜ë“œì‹œ í•„ìš”í•œ 3ê°€ì§€ ì¡°ê±´ë§Œ ì„ íƒí•˜ì„¸ìš”. (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)</div>
      <form id="abstraction-form" style="margin-top:10px;">
        <label><input type="checkbox" name="q" value="book" /> ğŸ“• ì±…ì„ ë“¤ê³  ìˆì§€ ì•Šë‹¤</label><br>
        <label><input type="checkbox" name="q" value="tie" /> ğŸ‘” ë„¥íƒ€ì´ë¥¼ ë§¤ê³  ìˆë‹¤</label><br>
        <label><input type="checkbox" name="q" value="pants" /> ğŸ‘– ë°”ì§€ë¥¼ ì…ê³  ìˆë‹¤</label><br>
        <label><input type="checkbox" name="q" value="arms" /> ğŸ™…â€â™‚ï¸ íŒ”ì§±ì„ ë¼ê³  ìˆë‹¤</label><br>
        <label><input type="checkbox" name="q" value="shirt" /> ğŸ‘• ì…”ì¸ ë¥¼ ì…ê³  ìˆë‹¤</label><br>
        <label><input type="checkbox" name="q" value="glasses" /> ğŸ‘“ ì•ˆê²½ì„ ì“°ê³  ìˆë‹¤</label><br>
      </form>
      <button onclick="checkAbstraction()" class="btn" style="margin-top:10px;">ì •ë‹µ í™•ì¸</button>
      <button onclick="resetAbstraction()" class="btn" style="margin-top:10px; margin-left:10px;">ë‹¤ì‹œ í•˜ê¸°</button>
      <div id="abstraction-feedback" style="margin-top:10px; font-weight:bold;"></div>
    </div>

    <!-- ë¬¸ì œë¶„í•´/ì¶”ìƒí™” ë“œë˜ê·¸/ì²´í¬ JS -->
    <script>
      // ë¬¸ì œë¶„í•´ ë“œë˜ê·¸ì•¤ë“œë¡­
      let draggedItem = null;
      const dragItems = document.querySelectorAll(".drag-item");
      const dropSlots = document.querySelectorAll(".drop-slot");
      const dragContainer = document.getElementById("drag-items");

      dragItems.forEach(item => {
        item.addEventListener("dragstart", e => {
          draggedItem = item;
        });
      });

      dropSlots.forEach(slot => {
        slot.addEventListener("dragover", e => e.preventDefault());
        slot.addEventListener("drop", e => {
          e.preventDefault();
          if (draggedItem) {
            slot.innerHTML = "";
            slot.appendChild(draggedItem);
            draggedItem = null;
          }
        });
      });

      document.getElementById("check-order").addEventListener("click", () => {
        const expectedOrder = ["2", "1", "3"];
        let userOrder = [];
        dropSlots.forEach(slot => {
          const child = slot.querySelector(".drag-item");
          if (child) userOrder.push(child.dataset.id);
        });
        const correct = expectedOrder.every((val, idx) => userOrder[idx] === val);
        document.getElementById("order-feedback").innerHTML = correct
          ? '<span class="success">ì •ë‹µì…ë‹ˆë‹¤!</span>'
          : '<span class="fail">ìˆœì„œê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.</span>';
      });

      document.getElementById("reset-order").addEventListener("click", () => {
        dragItems.forEach(item => {
          dragContainer.appendChild(item);
        });
        dropSlots.forEach((slot, idx) => {
          slot.innerHTML = `<b>${"â‘ â‘¡â‘¢"[idx]}</b> ìˆœì„œ ${idx + 1}`;
        });
        document.getElementById("order-feedback").innerHTML = "";
      });

      // ì¶”ìƒí™” í™•ì¸
      function checkAbstraction() {
        const correct = ["pants", "book", "glasses"];
        const checked = Array.from(document.querySelectorAll('input[name="q"]:checked')).map(cb => cb.value);
        const isCorrect = correct.length === checked.length && correct.every(val => checked.includes(val));
        const feedback = document.getElementById("abstraction-feedback");

        if (isCorrect) {
          feedback.innerHTML = '<span class="success">ì •ë‹µì…ë‹ˆë‹¤! í•„ìš”í•œ ì •ë³´ë§Œ ì •í™•íˆ ì¶”ë ¸ì–´ìš” ğŸ‰</span>';
        } else {
          const missed = correct.filter(c => !checked.includes(c));
          const extra = checked.filter(c => !correct.includes(c));
          feedback.innerHTML = '<span class="fail">ì •ë‹µì´ ì•„ë‹™ë‹ˆë‹¤.<br>' +
            (missed.length ? `â— ë¹ ëœ¨ë¦° ì¡°ê±´: ${missed.join(", ")}<br>` : "") +
            (extra.length ? `âš ï¸ ë¶ˆí•„ìš”í•œ ì¡°ê±´ ì„ íƒë¨: ${extra.join(", ")}` : "") +
            '</span>';
        }
      }

      function resetAbstraction() {
        document.querySelectorAll('input[name="q"]').forEach(cb => cb.checked = false);
        document.getElementById("abstraction-feedback").innerHTML = "";
      }
    </script>
    <!-- íŒ¨í„´(ê·œì¹™) ì°¾ê¸° íƒ­ -->
    <div id="tabbox2" class="box" style="display:none">
      <b>íŒ¨í„´(ê·œì¹™) ì°¾ê¸° ë‹¨ê³„</b>
      <div style="margin:16px 0 0 0;">
        ì¡°ê±´ì„ ìˆœì„œëŒ€ë¡œ ì ìš©í•˜ë©° ë‚¨ì€ í›„ë³´ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”.<br>
        <span class="hint">ì•„ë˜ 'ë‹¤ìŒ ì¡°ê±´ ì ìš©'ì„ ëˆ„ë¥´ë©´ í•„í„°ë§ì´ ì§„í–‰ë©ë‹ˆë‹¤.</span>
      </div>
      <div id="pattern-progress" style="margin:10px 0; font-weight:bold;">
        í˜„ì¬ ì ìš©ëœ ì¡°ê±´: <span id="applied-count">0</span> / <span id="total-count">3</span>
      </div>
      <div id="pattern-steps" class="pattern-step-list"></div>
      <div id="pattern-candidates" style="margin:14px 0;font-weight:bold;">
        ë‚¨ì€ í›„ë³´: â‘ , â‘¡, â‘¢, â‘£
      </div>
      <div id="pattern-explanation" style="margin:10px 0; color:#2c3e50; font-size:14px; font-style:italic;">
        (ì¡°ê±´ì´ ì ìš©ë˜ë©´ í•´ì„¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.)
      </div>
      <button id="pattern-next" class="btn">ë‹¤ìŒ ì¡°ê±´ ì ìš©</button>
      <button id="pattern-reset" class="btn reset">ì´ˆê¸°í™”</button>
    </div>

    <!-- ì•Œê³ ë¦¬ì¦˜ íƒ­ -->
    <div id="tabbox3" class="box" style="display:none">
      <b>ì•Œê³ ë¦¬ì¦˜ ë‹¨ê³„</b>
      <div style="margin:16px 0 10px 0;">ì •ë‹µì„ ì°¾ì•„ ë¬¸ì„œë¥¼ ì „ë‹¬í•  ì„ ìƒë‹˜ì„ ì„ íƒí•˜ì„¸ìš”.</div>
      <div class="radio-wrap">
        <label><input type="radio" name="answer" value="1"> 1ë²ˆ</label>
        <label><input type="radio" name="answer" value="2"> 2ë²ˆ</label>
        <label><input type="radio" name="answer" value="3"> 3ë²ˆ</label>
        <label><input type="radio" name="answer" value="4"> 4ë²ˆ</label>
      </div>
      <button id="algorithm-btn" class="btn">ì •ë‹µ í™•ì¸</button>
      <div id="algorithm-process" style="margin:16px 0 0 0; font-size:0.98em; color:#224;"></div>
      <span id="algorithm-feedback" style="margin-left:8px; font-weight:bold;"></span>
    </div>

    <script>
      // íƒ­ ì „í™˜ í•¨ìˆ˜
      function showTab(idx) {
        for (let i = 0; i < 4; i++) {
          document.querySelectorAll('.tab')[i].classList.remove('active');
          document.getElementById('tabbox' + i).style.display = (i === idx) ? "block" : "none";
        }
        document.querySelectorAll('.tab')[idx].classList.add('active');
        if (idx === 2) showPatternStatus();
      }

      // íƒ€ì´ë¨¸
      let timer = null, timerValue = 0, timerRemain = 0;
      function setTimer(sec, btn) {
        timerValue = sec;
        timerRemain = sec;
        updateTimer();
        document.querySelectorAll('.timer button').forEach(b => b.classList.remove('selected'));
        if (btn) btn.classList.add('selected');
        if (timer) clearInterval(timer);
        timer = setInterval(function () {
          timerRemain--;
          updateTimer();
          if (timerRemain <= 0) {
            clearInterval(timer);
            alert("â° ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\në‹¤ì‹œ ë„ì „í•˜ë ¤ë©´ ì‹œê°„ì„ ì„ íƒí•˜ì„¸ìš”.");
            document.querySelectorAll('.timer button').forEach(b => b.classList.remove('selected'));
          }
        }, 1000);
      }

      function updateTimer() {
        document.getElementById('timer_display').innerText =
          `${Math.floor(timerRemain / 60)}:${String(timerRemain % 60).padStart(2, '0')}`;
      }

      // ì•Œê³ ë¦¬ì¦˜ í™•ì¸
      function checkAlgorithmAnswer() {
        const teachers = [
          { no: 1, ë°”ì§€: false, ì±…: false, ì•ˆê²½: true },
          { no: 2, ë°”ì§€: true, ì±…: true, ì•ˆê²½: true },
          { no: 3, ë°”ì§€: true, ì±…: false, ì•ˆê²½: true },
          { no: 4, ë°”ì§€: true, ì±…: false, ì•ˆê²½: false }
        ];
        let processMsg = "<b>ì•Œê³ ë¦¬ì¦˜ ì²˜ë¦¬ ê³¼ì •:</b><br>";
        let current = [...teachers];
        processMsg += "ì´ˆê¸° í›„ë³´: " + current.map(t => `<b>${t.no}ë²ˆ</b>`).join(', ') + "<br>";
        current = current.filter(t => t.ë°”ì§€);
        processMsg += "â‘  ë°”ì§€ë¥¼ ì…ê³  ìˆëŠ” í›„ë³´: " + (current.length ? current.map(t => `<b>${t.no}ë²ˆ</b>`).join(', ') : 'ì—†ìŒ') + "<br>";
        current = current.filter(t => !t.ì±…);
        processMsg += "â‘¡ ì±…ì„ ë“¤ê³  ìˆì§€ ì•Šì€ í›„ë³´: " + (current.length ? current.map(t => `<b>${t.no}ë²ˆ</b>`).join(', ') : 'ì—†ìŒ') + "<br>";
        current = current.filter(t => t.ì•ˆê²½);
        processMsg += "â‘¢ ì•ˆê²½ì„ ì“°ê³  ìˆëŠ” í›„ë³´: " + (current.length ? current.map(t => `<b>${t.no}ë²ˆ</b>`).join(', ') : 'ì—†ìŒ') + "<br>";
        let rightNo = current.length ? current[0].no : null;
        processMsg += "<b>ìµœì¢… ë‚¨ì€ í›„ë³´: " + (current.length ? `${current[0].no}ë²ˆ` : "ì—†ìŒ") + "</b>";
        document.getElementById('algorithm-process').innerHTML = processMsg;

        const radios = document.getElementsByName('answer');
        let userPick = null;
        for (let r of radios) if (r.checked) userPick = parseInt(r.value);
        let feedback = '';
        if (!userPick) {
          feedback = '<span class="fail">ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”.</span>';
        } else if (userPick === rightNo) {
          feedback = '<span class="success">ì •ë‹µì…ë‹ˆë‹¤!</span>';
        } else {
          feedback = '<span class="fail">ì •ë‹µì´ ì•„ë‹™ë‹ˆë‹¤.</span>';
        }
        document.getElementById('algorithm-feedback').innerHTML = feedback;
      }

      // íŒ¨í„´ íƒ­ ê´€ë ¨
      const teachers = [
        { no: 1, ë°”ì§€: false, ì±…: false, ì•ˆê²½: true },
        { no: 2, ë°”ì§€: true, ì±…: true, ì•ˆê²½: true },
        { no: 3, ë°”ì§€: true, ì±…: false, ì•ˆê²½: true },
        { no: 4, ë°”ì§€: true, ì±…: false, ì•ˆê²½: false }
      ];
      const patternSteps = [
        { label: "ë°”ì§€ë¥¼ ì…ê³  ìˆë‹¤", key: "ë°”ì§€", value: true },
        { label: "ì±…ì„ ë“¤ê³  ìˆì§€ ì•Šë‹¤", key: "ì±…", value: false },
        { label: "ì•ˆê²½ì„ ì“°ê³  ìˆë‹¤", key: "ì•ˆê²½", value: true }
      ];
      let patternIdx = 0;
      let candidates = [1, 2, 3, 4];
      function showPatternStatus() {
        document.getElementById('applied-count').innerText = patternIdx;
        document.getElementById('total-count').innerText = patternSteps.length;
        document.getElementById('pattern-candidates').innerText = "ë‚¨ì€ í›„ë³´: " + (candidates.length ? candidates.map(n => `â‘ â‘¡â‘¢â‘£`[n - 1]).join(", ") : "ì—†ìŒ");
        let stepInfo = '';
        for (let i = 0; i < patternSteps.length; i++) {
          stepInfo += `<div>${i + 1}. ${patternSteps[i].label} ${i < patternIdx ? "âœ”ï¸" : ""}</div>`;
        }
        document.getElementById('pattern-steps').innerHTML = stepInfo;
        document.getElementById('pattern-explanation').innerText = patternIdx > 0
          ? `${patternSteps[patternIdx - 1].label} ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•ŠëŠ” í›„ë³´ ì œì™¸`
          : '(ì¡°ê±´ì´ ì ìš©ë˜ë©´ í•´ì„¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.)';
      }

      // DOM ë¡œë”© í›„ ì´ë²¤íŠ¸ ë°”ì¸ë”©
      document.addEventListener('DOMContentLoaded', function () {
        // íƒ­ ì´ë²¤íŠ¸
        for (let i = 0; i < 4; i++) {
          document.getElementById('tab-btn-' + i).addEventListener('click', function () { showTab(i); });
        }
        // íƒ€ì´ë¨¸
        document.getElementById('timer-btn-30').onclick = function () { setTimer(30, this); };
        document.getElementById('timer-btn-60').onclick = function () { setTimer(60, this); };
        document.getElementById('timer-btn-90').onclick = function () { setTimer(90, this); };
        document.getElementById('timer-btn-120').onclick = function () { setTimer(120, this); };
        updateTimer();

        // ì•Œê³ ë¦¬ì¦˜ í™•ì¸
        document.getElementById('algorithm-btn').onclick = checkAlgorithmAnswer;

        // íŒ¨í„´íƒ­
        document.getElementById('pattern-next').onclick = function () {
          if (patternIdx >= patternSteps.length) return;
          const step = patternSteps[patternIdx];
          candidates = candidates.filter(n =>
            teachers.find(t => t.no === n)[step.key] === step.value
          );
          patternIdx++;
          showPatternStatus();
        };
        document.getElementById('pattern-reset').onclick = function () {
          patternIdx = 0;
          candidates = [1, 2, 3, 4];
          showPatternStatus();
        };
        showPatternStatus();
      });
    </script>
  </div> <!-- .container -->
</body>
</html>
